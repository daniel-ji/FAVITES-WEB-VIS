<!DOCTYPE html>
<html>

<head>
    <link rel="icon" href="favicon.ico"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <title>Pairwise Distance Graph Visualization</title>
</head>

<body>
    <div id="graph-container">
        <div class="graph-element d-none" id="graph-element-0">
            <h1 class="graph-title">Cluster Graph</h1>
            <img src="images/zoom-to-fit.png" id="zoom-to-fit" title="Zoom to Fit"/>
            <canvas id="pairwise-graph"></canvas>
        </div>
        <div class="graph-element d-none" id="graph-element-1">
            <h1 class="graph-title">Cluster Size Distribution</h1>
            <div id="cluster-histogram"></div>
        </div>
        <div class="graph-element d-none" id="graph-element-2">
            <h1 class="graph-title">Cluster Summary Statistics</h1>
            <table class="table table-bordered" id="summary-table">
                <tbody>
                    <tr>
                        <td>Node Count:</td>
                        <td id="node-count"></td>
                    </tr>
                    <tr>
                        <td>Edge Count:</td>
                        <td id="edge-count"></td>
                    </tr>
                    <tr>
                        <td>Assortativity:</td>  
                        <td id="assortativity"></td>
                    </tr>
                    <tr>
                        <td>Transitivity:</td>  
                        <td id="transitivity"></td>
                    </tr>
                    <tr>
                        <td>Triangle Count:</td>  
                        <td id="triangle-count"></td>
                    </tr>
                    <tr>
                        <td>Cluster Count:</td>
                        <td id="cluster-count"></td>
                    </tr>
                    <tr>
                        <td>Mean Cluster Size</td>  
                        <td id="mean-cluster-size"></td>
                    </tr>
                    <tr>
                        <td>Median Cluster Size:</td>
                        <td id="median-cluster-size"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <img src="images/arrow-left.svg" id="arrow-left" title="Previous Visualization"/>
        <img src="images/arrow-right.svg" id="arrow-right" title="Next Visualization"/>
        <h5 id="footer-label"></h5>
    </div>

    <div id="input">
        <h1 class="my-5">Pairwise Distance Graph Visualization</h1>

        <div id="pairwise-threshold" class="mb-5">
            <label for="threshold-select" id="threshold-label" class="form-label w-100 text-center"></label>
            <input type="range" class="form-range" id="threshold-select" min="0" max="0.05" step="0.0025"
                value="0.015">
        </div>

        <div id="pairwise-filter" class="mb-5 w-100">
            <label for="filter-select" id="threshold-label" class="form-label w-100 text-center">Filter by race:</label>
            <select id="filter-select" class="form-select">
                <option selected>Select all</option>
                <option value="black">Black</option>
                <option value="hispanic">Hispanic</option>
                <option value="white">White</option>
                <option value="other">Other</option>
            </select>
        </div>

        <div id="pairwise-filter" class="mb-5 w-100">
            <label for="filter-select" id="threshold-label" class="form-label w-100 text-center">Filter by risk factor:</label>
            <select id="filter-select" class="form-select">
                <option selected>Select all</option>
                <option value="IDU">IDU</option>
                <option value="MSM">MSM</option>
                <option value="IDU-MSM">MSM & IDU</option>
                <option value="no-risk">No reported risk</option>
                <option value="hetero-contact">Heterosexual contact</option>
                <option value="potential">Potential Exposure</option>
                <option value="other">Other</option>
            </select>
        </div>

        <label for="upload-file" class="form-label w-100 text-center">Upload pairwise distances file:</label>
        <input type="file" class="form-control" id="upload-file" />
        <button id="read-file" class="btn btn-primary mt-3">Submit</button>
        <p class="mt-2 text-success" id="upload-success">Done!</p>

        <footer>Created for TRIUMPH-SD, 2023</footer>
    </div>

    <script type="module" src="index.js"></script>
</body>

</html>